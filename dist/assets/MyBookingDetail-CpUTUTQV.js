import{u as A,b as M,r as b,j as s,i as W,h as z,A as H,W as L,d as q,o as G}from"./index-DXhfvoum.js";const J=({list:l=[],darkmode:m,lineShow:j,hotel_id:N})=>{const v=A(),{t:d}=M(),[c,g]=b.useState(l.map(()=>!0)),a=t=>{g(o=>o.map((r,e)=>e===t?!r:r))};return s.jsx("div",{className:"",children:l.map((t,o)=>s.jsx("div",{className:`!my-[15px] rounded-[15px] ${m?"!text-white bg-tuna":"bg-white"}`,children:s.jsxs("div",{className:"container_main",children:[s.jsxs("button",{onClick:()=>a(o),className:`w-full flex justify-between items-center gap-3 py-4 focus:outline-none ${c[o]?"border-b border-[#EEEEEE]  dark:border-[#4B4B59]":""}`,children:[s.jsx("p",{className:"text-base font-semibold",children:t.title}),s.jsx(W,{fill:m?"#fff":"#042B50",className:c[o]?"rotate-90 duration-200":"rotate-0 duration-200"})]}),s.jsx("div",{className:`transition-max-height duration-200 ease-in-out overflow-hidden pt-0 ${c[o]?"max-h-270":"max-h-0"}`,children:s.jsxs("div",{className:"py-4",children:[t.content,j===!0?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:"/images/linedashed.svg",className:"w-full object-cover h-[1px] my-[15px]",alt:""}),s.jsx("button",{type:"button",onClick:()=>v(`/hotels/detail/comment/${N}`),className:"cursor-pointer w-full text-blueRibbon text-base font-semibold",children:d("home.view_all_comment")})]}):""]})})]})},o))})},Q=({darkmode:l,hotel_detail:m={}})=>{var r;const j=A(),{id:N}=z(),[v,d]=b.useState(!1),[c,g]=b.useState([]),{t:a}=M();b.useEffect(()=>{t(),window.scrollTo({top:0,behavior:"smooth"})},[]);const t=()=>{d(!0),H().get("api/v1/search/service/my-bron").then(e=>{var p,i;g((i=(p=e==null?void 0:e.data)==null?void 0:p.orders)==null?void 0:i.filter(x=>{var u;return((u=x==null?void 0:x.price)==null?void 0:u.id)===Number(N)}))}).catch(e=>{console.log(e)}).finally(()=>{d(!1)})},o=[{title:a("home.tourDetails"),content:s.jsx(s.Fragment,{children:(r=c==null?void 0:c.slice(0,1))==null?void 0:r.map((e,p)=>{var y,D,_,E,$,k,C,I,B,R;function i(n){const h=parseInt(n==null?void 0:n.slice(0,4),10),f=parseInt(n==null?void 0:n.slice(4,6),10)-1,P=parseInt(n==null?void 0:n.slice(6,8),10);return new Date(h,f,P)}function x(n){const h=String(n.getDate()).padStart(2,"0"),f=String(n.getMonth()+1).padStart(2,"0");return`${h}.${f}`}function u(n,h){return Math.round((h-n)/864e5)}const w=i((y=e==null?void 0:e.price)==null?void 0:y.check_in),T=i((D=e==null?void 0:e.price)==null?void 0:D.check_out),F=x(w),O=u(w,T);return s.jsxs("div",{className:l?"!text-white":"",children:[s.jsxs("div",{className:"flex gap-2.5 items-center mb-[10px]",children:[s.jsx("img",{onError:n=>{n.target.src="https://cdn0.hitched.co.uk/vendor/4332/3_2/1280/png/frame-1_4_24332-169089063311545.webp"},src:e==null?void 0:e.image,className:"w-[125px] h-[75px] rounded-[15px]",alt:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-base ",children:(E=(_=e==null?void 0:e.price)==null?void 0:_.hotel)==null?void 0:E.name}),s.jsxs("p",{className:"text-base flex gap-2 items-center mt-[10px] font-normal",children:[s.jsx(L,{})," ",s.jsx("span",{children:(k=($=e==null?void 0:e.price)==null?void 0:$.town)==null?void 0:k.name})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs("span",{className:"font-normal text-base text-blueRibbon",children:[a("home.tourists"),":"]}),s.jsxs("span",{className:"font-normal text-lg",children:[(C=e==null?void 0:e.price)==null?void 0:C.adult," ",a("home.numberOfAdults"),", ",(I=e==null?void 0:e.price)==null?void 0:I.child," ",a("home.child2")]})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs("span",{className:"font-normal text-base text-blueRibbon",children:[a("home.tour_dates"),":"]}),s.jsx("div",{className:"font-normal text-lg",children:s.jsxs("span",{children:[a("home.departure")," ",F,", ",O," ",a("home.nights")]})})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs("span",{className:"font-normal text-base text-blueRibbon",children:[a("home.number"),":"]}),s.jsx("span",{className:"font-normal text-lg",children:(B=e==null?void 0:e.price)==null?void 0:B.room})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs("span",{className:"font-normal text-base text-blueRibbon",children:[a("home.nutrition2"),":"]}),s.jsx("span",{className:"font-normal text-lg",children:(R=e==null?void 0:e.price)==null?void 0:R.meal})]})]})]},p)})})}];return s.jsx("div",{className:`min-h-screen  pb-[65px] ${l?"bg-[#141414]":"bg-neutralSand"}`,children:s.jsxs("div",{className:"container_main !px-0",children:[s.jsx("section",{className:`py-[10px] container_main  rounded-bl-[20px] z-40 fixed w-full rounded-br-[20px] h-[65px] ${l?"bg-[#272829]":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(q,{fill:l?"#fff":"#141414",onClick:()=>j(-1)}),s.jsx("div",{className:`text-lg font-semibold flex w-full justify-center ${l?"text-white":"text-blueWood"}`,children:a("home.tour_booking")}),s.jsx("div",{className:"w-[45px]"})]})}),s.jsx("div",{className:" pt-[80px]",children:s.jsx(G,{})}),s.jsx(J,{list:o,darkmode:l})]})})};export{Q as default};
