import{b as F,u as $,c as S,r as o,A as m,j as t,d as y,H as D,S as b,F as A}from"./index-DAOtpb3C.js";import{I as E}from"./index.es-DE6WVxQk.js";const P=({darkmode:d})=>{var u,g,p;const{t:C}=F(),h=$(),e=S(),[_,a]=o.useState(!1),[n,f]=o.useState(1),[c,v]=o.useState([]),[r,N]=o.useState([]);o.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),w(),k()},[]),o.useEffect(()=>{const s=n===1?"20250701":"20250702",l=new URLSearchParams(e);l.set("checkin",s),h({search:l.toString()},{replace:!0})},[n]);const w=()=>{a(!0),m().get(`/api/v1/somo-travel/tour-prices-content2?town_from_inc=1853&tour_operator_id=1&state_id=10&checkin=20250701&nights=7&towns[]=7&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=7&page=1`).then(s=>{var i;let l=(i=s==null?void 0:s.data)==null?void 0:i.data;v(l||[])}).catch(s=>console.log(s)).finally(()=>a(!1))},k=()=>{a(!0),m().get(`/api/v1/somo-travel/tour-prices-content2?town_from_inc=1853&tour_operator_id=1&state_id=10&checkin=20250702&nights=7&towns[]=7&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=7&page=1`).then(s=>{var i;let l=(i=s==null?void 0:s.data)==null?void 0:i.data;N(l||[])}).catch(s=>console.log(s)).finally(()=>a(!1))},x=n===1?c:r;return t.jsx("div",{className:"min-h-screen pb-[10px] bg-neutralSand dark:bg-[#141414]",children:t.jsxs("div",{className:"container_main !px-0",children:[t.jsx("div",{className:"fixed container_main z-999 w-full bg-white dark:bg-[#272829] rounded-bl-[20px] rounded-br-[20px] h-[75px] mb-3 p-[15px]",children:t.jsx("div",{className:"flex items-center w-full justify-between gap-[10px]",children:t.jsxs("div",{className:"flex gap-[10px] items-center",children:[t.jsx(y,{fill:d?"#fff":"#141414",onClick:()=>{h(`/hotels/tour-info/?town_from_inc=${e==null?void 0:e.town_from_inc}&tour_operator_id=${e==null?void 0:e.tour_operator_id}&state_id=${e==null?void 0:e.state_id}&checkin=${e==null?void 0:e.checkin}&nights=${e==null?void 0:e.nights}&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=${e==null?void 0:e.tour_somo_id}&towns[]=${e==null?void 0:e.towns}${e!=null&&e.rixos?"&rixos=true":""}`)},className:"-translate-x-[15px]"}),t.jsx(D,{darkmode:d})]})})}),_?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"container_main z-999 w-full bg-white dark:bg-[#272829] rounded-bl-[20px] rounded-br-[20px] h-[75px] !mb-[14px] p-[15px]"}),t.jsx("div",{className:"mb-[15px] mt-[5px] mx-[10px] gap-[15px] flex flex-col",children:[...Array(3)].map((s,l)=>t.jsx(b,{height:300,style:{borderRadius:"8px"},baseColor:d?"#36393E":"#DADADA"},l))})]}):t.jsxs("div",{className:"pt-[90px] flex flex-col gap-3",children:[t.jsx("div",{className:"bg-white dark:bg-[#272829]",children:t.jsxs("div",{className:"container_main py-[10px] flex flex-col gap-[10px]",children:[t.jsx("div",{className:"font-medium text-[#141414] dark:text-white",children:"Дата вылета на концерт"}),t.jsxs("div",{className:"flex items-center gap-[10px]",children:[t.jsx("div",{className:`w-full border-[0.5px] p-[10px] rounded-md flex justify-center cursor-pointer ${n===1?"border-[#235DFF] bg-[#EBF0F5]  dark:bg-[#2d2e31]":"border-[#235DFF] "}`,onClick:()=>f(1),children:t.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[t.jsxs("div",{className:"text-[#141414] dark:text-white font-medium",children:["01.06 - ",e==null?void 0:e.nights," ночей"]}),t.jsxs("div",{className:"text-[#235DFF] font-semibold text-lg",children:[(u=c==null?void 0:c.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)})[0])==null?void 0:u.converted_price_number.toLocaleString("en-US").replace(/,/g," ")," ","сум"]})]})}),t.jsx("div",{className:`w-full border-[0.5px] p-[10px] rounded-md flex justify-center cursor-pointer ${n===2?"border-[#235DFF] bg-[#EBF0F5]   dark:bg-[#2d2e31] ":" border-[#235DFF]"}`,onClick:()=>f(2),children:t.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[t.jsxs("div",{className:"text-[#141414] dark:text-white font-medium",children:["02.06 - ",e==null?void 0:e.nights," ночей"]}),t.jsxs("div",{className:"text-[#235DFF] font-semibold text-lg",children:[" ",(g=r==null?void 0:r.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)})[0])==null?void 0:g.converted_price_number.toLocaleString("en-US").replace(/,/g," ")," ","сум"]})]})})]})]})}),t.jsx(E,{dataLength:x.length,className:"flex flex-col gap-[15px] mx-[10px]",loader:t.jsx("span",{className:"flex justify-center mt-[15px] h-[50px]"}),endMessage:t.jsx("p",{className:"mb-0"}),children:(p=x==null?void 0:x.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)}))==null?void 0:p.map((s,l)=>t.jsx(A,{item:s,index:l,darkmode:d},l))})]})]})})};export{P as default};
