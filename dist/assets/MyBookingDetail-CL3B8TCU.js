import{u as R,r as u,j as s,i as T,h as W,A as z,W as H,d as L,o as O}from"./index-DAOtpb3C.js";const q=({list:n=[],darkmode:b,lineShow:j,hotel_id:m})=>{const g=R(),[c,t]=u.useState(n.map(()=>!0)),N=o=>{t(l=>l.map((r,e)=>e===o?!r:r))};return s.jsx("div",{className:"",children:n.map((o,l)=>s.jsx("div",{className:`!my-[15px] rounded-[15px] ${b?"!text-white bg-tuna":"bg-white"}`,children:s.jsxs("div",{className:"container_main",children:[s.jsxs("button",{onClick:()=>N(l),className:`w-full flex justify-between items-center gap-3 py-4 focus:outline-none ${c[l]?"border-b border-[#EEEEEE]  dark:border-[#4B4B59]":""}`,children:[s.jsx("p",{className:"text-base font-semibold",children:o.title}),s.jsx(T,{fill:b?"#fff":"#042B50",className:c[l]?"rotate-90 duration-200":"rotate-0 duration-200"})]}),s.jsx("div",{className:`transition-max-height duration-200 ease-in-out overflow-hidden pt-0 ${c[l]?"max-h-270":"max-h-0"}`,children:s.jsxs("div",{className:"py-4",children:[o.content,j===!0?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:"/images/linedashed.svg",className:"w-full object-cover h-[1px] my-[15px]",alt:""}),s.jsx("button",{type:"button",onClick:()=>g(`/hotels/detail/comment/${m}`),className:"cursor-pointer w-full text-blueRibbon text-base font-semibold",children:"Посмотреть все отзывы"})]}):""]})})]})},l))})},J=({darkmode:n,hotel_detail:b={}})=>{var r;const j=R(),{id:m}=W(),[g,c]=u.useState(!1),[t,N]=u.useState([]);u.useEffect(()=>{o(),window.scrollTo({top:0,behavior:"smooth"})},[]);const o=()=>{c(!0),z().get("api/v1/search/service/my-bron").then(e=>{var p,x;N((x=(p=e==null?void 0:e.data)==null?void 0:p.orders)==null?void 0:x.filter(i=>{var h;return((h=i==null?void 0:i.price)==null?void 0:h.id)===Number(m)}))}).catch(e=>{console.log(e)}).finally(()=>{c(!1)})},l=[{title:"Детали тура",content:s.jsx(s.Fragment,{children:(r=t==null?void 0:t.slice(0,1))==null?void 0:r.map((e,p)=>{var w,y,D,E,_,$,C,I,k,B;function x(a){const d=parseInt(a==null?void 0:a.slice(0,4),10),f=parseInt(a==null?void 0:a.slice(4,6),10)-1,P=parseInt(a==null?void 0:a.slice(6,8),10);return new Date(d,f,P)}function i(a){const d=String(a.getDate()).padStart(2,"0"),f=String(a.getMonth()+1).padStart(2,"0");return`${d}.${f}`}function h(a,d){return Math.round((d-a)/864e5)}const v=x((w=e==null?void 0:e.price)==null?void 0:w.check_in),A=x((y=e==null?void 0:e.price)==null?void 0:y.check_out),M=i(v),F=h(v,A);return s.jsxs("div",{className:n?"!text-white":"",children:[s.jsxs("div",{className:"flex gap-2.5 items-center mb-[10px]",children:[s.jsx("img",{onError:a=>{a.target.src="https://cdn0.hitched.co.uk/vendor/4332/3_2/1280/png/frame-1_4_24332-169089063311545.webp"},src:e==null?void 0:e.image,className:"w-[125px] h-[75px] rounded-[15px]",alt:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-base ",children:(E=(D=e==null?void 0:e.price)==null?void 0:D.hotel)==null?void 0:E.name}),s.jsxs("p",{className:"text-base flex gap-2 items-center mt-[10px] font-normal",children:[s.jsx(H,{})," ",s.jsx("span",{children:($=(_=e==null?void 0:e.price)==null?void 0:_.town)==null?void 0:$.name})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx("span",{className:"font-normal text-base text-blueRibbon",children:"Туристы:"}),s.jsxs("span",{className:"font-normal text-lg",children:[(C=e==null?void 0:e.price)==null?void 0:C.adult," взрослых, ",(I=e==null?void 0:e.price)==null?void 0:I.child," детей"]})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx("span",{className:"font-normal text-base text-blueRibbon",children:"Даты туры:"}),s.jsx("div",{className:"font-normal text-lg",children:s.jsxs("span",{children:["Вылет ",M,", ",F," ночей"]})})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx("span",{className:"font-normal text-base text-blueRibbon",children:"Номер:"}),s.jsx("span",{className:"font-normal text-lg",children:(k=e==null?void 0:e.price)==null?void 0:k.room})]}),s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx("span",{className:"font-normal text-base text-blueRibbon",children:"Питаие:"}),s.jsx("span",{className:"font-normal text-lg",children:(B=e==null?void 0:e.price)==null?void 0:B.meal})]})]})]},p)})})}];return s.jsx("div",{className:`min-h-screen  pb-[65px] ${n?"bg-[#141414]":"bg-neutralSand"}`,children:s.jsxs("div",{className:"container_main !px-0",children:[s.jsx("section",{className:`py-[10px] container_main  rounded-bl-[20px] z-40 fixed w-full rounded-br-[20px] h-[65px] ${n?"bg-[#272829]":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(L,{fill:n?"#fff":"#141414",onClick:()=>j(-1)}),s.jsx("div",{className:`text-lg font-semibold flex w-full justify-center ${n?"text-white":"text-blueWood"}`,children:"Бронирование тура"}),s.jsx("div",{className:"w-[45px]"})]})}),s.jsx("div",{className:" pt-[80px]",children:s.jsx(O,{})}),s.jsx(q,{list:l,darkmode:n})]})})};export{J as default};
