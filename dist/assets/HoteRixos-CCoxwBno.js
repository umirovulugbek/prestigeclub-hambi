import{b as $,u as S,c as D,r as o,A as _,j as t,d as y,H as b,S as A,F as E}from"./index-Watmp8Sy.js";import{I as C}from"./index.es-DZLY8KeJ.js";const H=({darkmode:d})=>{var g,m,p;const{t:n}=$(),u=S(),e=D(),[v,c]=o.useState(!1),[i,f]=o.useState(1),[r,N]=o.useState([]),[x,w]=o.useState([]);o.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),k(),F()},[]),o.useEffect(()=>{const s=i===1?"20250701":"20250702",l=new URLSearchParams(e);l.set("checkin",s),u({search:l.toString()},{replace:!0})},[i]);const k=()=>{c(!0),_().get(`/api/v1/somo-travel/tour-prices-content2?town_from_inc=1853&tour_operator_id=1&state_id=10&checkin=20250701&nights=7&towns[]=7&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=7&page=1`).then(s=>{var a;let l=(a=s==null?void 0:s.data)==null?void 0:a.data;N(l||[])}).catch(s=>console.log(s)).finally(()=>c(!1))},F=()=>{c(!0),_().get(`/api/v1/somo-travel/tour-prices-content2?town_from_inc=1853&tour_operator_id=1&state_id=10&checkin=20250702&nights=7&towns[]=7&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=7&page=1`).then(s=>{var a;let l=(a=s==null?void 0:s.data)==null?void 0:a.data;w(l||[])}).catch(s=>console.log(s)).finally(()=>c(!1))},h=i===1?r:x;return t.jsx("div",{className:"min-h-screen pb-[10px] bg-neutralSand dark:bg-[#141414]",children:t.jsxs("div",{className:"container_main !px-0",children:[t.jsx("div",{className:"fixed container_main z-999 w-full bg-white dark:bg-[#272829] rounded-bl-[20px] rounded-br-[20px] h-[75px] mb-3 p-[15px]",children:t.jsx("div",{className:"flex items-center w-full justify-between gap-[10px]",children:t.jsxs("div",{className:"flex gap-[10px] items-center",children:[t.jsx(y,{fill:d?"#fff":"#141414",onClick:()=>{u(`/hotels/tour-info/?town_from_inc=${e==null?void 0:e.town_from_inc}&tour_operator_id=${e==null?void 0:e.tour_operator_id}&state_id=${e==null?void 0:e.state_id}&checkin=${e==null?void 0:e.checkin}&nights=${e==null?void 0:e.nights}&adult=${e==null?void 0:e.adult}&childs=${e==null?void 0:e.childs}&tour_somo_id=${e==null?void 0:e.tour_somo_id}&towns[]=${e==null?void 0:e.towns}${e!=null&&e.rixos?"&rixos=true":""}`)},className:"-translate-x-[15px]"}),t.jsx(b,{darkmode:d})]})})}),v?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"container_main z-999 w-full bg-white dark:bg-[#272829] rounded-bl-[20px] rounded-br-[20px] h-[75px] !mb-[14px] p-[15px]"}),t.jsx("div",{className:"mb-[15px] mt-[5px] mx-[10px] gap-[15px] flex flex-col",children:[...Array(3)].map((s,l)=>t.jsx(A,{height:300,style:{borderRadius:"8px"},baseColor:d?"#36393E":"#DADADA"},l))})]}):t.jsxs("div",{className:"pt-[90px] flex flex-col gap-3",children:[t.jsx("div",{className:"bg-white dark:bg-[#272829]",children:t.jsxs("div",{className:"container_main py-[10px] flex flex-col gap-[10px]",children:[t.jsx("div",{className:"font-medium text-[#141414] dark:text-white",children:n("home.concertDepartureDate")}),t.jsxs("div",{className:"flex items-center gap-[10px]",children:[t.jsx("div",{className:`w-full border-[0.5px] p-[10px] rounded-md flex justify-center cursor-pointer ${i===1?"border-[#235DFF] bg-[#EBF0F5]  dark:bg-[#2d2e31]":"border-[#235DFF] "}`,onClick:()=>f(1),children:t.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[t.jsxs("div",{className:"text-[#141414] dark:text-white font-medium",children:["01.06 - ",e==null?void 0:e.nights," ",n("home.nights")]}),t.jsxs("div",{className:"text-[#235DFF] font-semibold text-lg",children:[(g=r==null?void 0:r.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)})[0])==null?void 0:g.converted_price_number.toLocaleString("en-US").replace(/,/g," ")," ",n("home.uzs")]})]})}),t.jsx("div",{className:`w-full border-[0.5px] p-[10px] rounded-md flex justify-center cursor-pointer ${i===2?"border-[#235DFF] bg-[#EBF0F5]   dark:bg-[#2d2e31] ":" border-[#235DFF]"}`,onClick:()=>f(2),children:t.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[t.jsxs("div",{className:"text-[#141414] dark:text-white font-medium",children:["02.06 - ",e==null?void 0:e.nights," ",n("home.nights")]}),t.jsxs("div",{className:"text-[#235DFF] font-semibold text-lg",children:[" ",(m=x==null?void 0:x.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)})[0])==null?void 0:m.converted_price_number.toLocaleString("en-US").replace(/,/g," ")," ",n("home.uzs")]})]})})]})]})}),t.jsx(C,{dataLength:h.length,className:"flex flex-col gap-[15px] mx-[10px]",loader:t.jsx("span",{className:"flex justify-center mt-[15px] h-[50px]"}),endMessage:t.jsx("p",{className:"mb-0"}),children:(p=h==null?void 0:h.filter(s=>{var l;return[147,146].includes((l=s==null?void 0:s.hotel)==null?void 0:l.hotel_key)}))==null?void 0:p.map((s,l)=>t.jsx(E,{item:s,index:l,darkmode:d},l))})]})]})})};export{H as default};
